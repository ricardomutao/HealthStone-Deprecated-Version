<!--
  Generated template for the CreateQuestPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar color="maintheme">
    <ion-title>
      Criar Missão
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content>

  <div padding>
    <ion-segment [(ngModel)]="tab" color="greentheme">
      <ion-segment-button value="alimentos">
        Alimentos
      </ion-segment-button>
      <ion-segment-button value="detalhes">
        Mais Detalhes
      </ion-segment-button>
    </ion-segment>
  </div>

  <div [ngSwitch]="tab">
    <form (ngSubmit)="criarQuest()">
      
      <div *ngSwitchCase="'alimentos'">
        <ion-card>
          <ion-searchbar (ionInput)="getItems($event)" placeholder="Pesquisar" autocomplete="on"></ion-searchbar>
          <ion-list style="overflow-y: auto;max-height: 100px;">
            <button ion-item *ngFor="let alimento of filterAlimentos" (click)="setQtd(alimento)">
              <ion-icon name="add" item-end></ion-icon>
              {{ alimento.descricao }}
            </button>
          </ion-list>
        </ion-card>

          <div *ngIf="questAlimentos.length > 0">
            <ion-title style="margin-top: 10%;">Selecionados:</ion-title>      
            <div *ngFor="let qAlimento of questAlimentos">
              <ion-card style="border: 1px #ff8300 solid;">
                <ion-list>
                  <ion-item>
                    {{qAlimento.alimento.descricao}}
                    <button ion-button item-end icon-only clear (click)="removeAlimento(qAlimento)">
                      <ion-icon name="close" color="danger"></ion-icon>
                    </button>
                  </ion-item>
                  <ion-item>
                    Quantidade: {{qAlimento.qtd}} ({{qAlimento.alimento.unidade}})
                  </ion-item>
                </ion-list>     
              </ion-card>
            </div>
          </div>      
      
        </div>

      <div *ngSwitchCase="'detalhes'">
        <ion-card>
          <ion-card-content>
              <ion-list>

                <ion-item>
                  <ion-label stacked>Título</ion-label>
                  <ion-input type="text" clearInput autocomplete="on" placeholder="HealthStone" name="titulo" [(ngModel)]="titulo"></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label>Período</ion-label>
                  <ion-select [(ngModel)]="periodo" name="periodo">
                    <ion-option value="manha">Manhã</ion-option>
                    <ion-option value="tarde">Tarde</ion-option>
                    <ion-option value="noite">Noite</ion-option>
                  </ion-select>
                </ion-item>
          
                <ion-item>
                  <ion-label>Dias</ion-label>
                  <ion-select [(ngModel)]="dias" multiple="true" name="dias">
                    <ion-option value="segunda">Segunda</ion-option>
                    <ion-option value="terca">Terça</ion-option>
                    <ion-option value="quarta">Quarta</ion-option>
                    <ion-option value="quinta">Quinta</ion-option>
                    <ion-option value="sexta">Sexta</ion-option>
                    <ion-option value="sabado">Sábado</ion-option>
                    <ion-option value="domingo">Domingo</ion-option>
                  </ion-select>
                </ion-item>

                <ion-item>
                  <ion-label>Evitar Comer</ion-label>
                  <ion-toggle checked="false" color="greentheme" [(ngModel)]="evitar" name="evitar"></ion-toggle>
                </ion-item>
        
              </ion-list>
          </ion-card-content>
          
        </ion-card>

      </div>

      <ion-fab bottom right>
        <button ion-fab mini color="greentheme" type="submit"><ion-icon name="checkmark-circle"></ion-icon></button>
      </ion-fab>

    </form>
  </div>

  
    
</ion-content>
